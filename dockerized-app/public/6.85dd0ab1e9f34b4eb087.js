(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{Yj9t:function(t,o,r){"use strict";r.r(o),r.d(o,"AuthModule",function(){return C});var e=r("ofXK"),i=r("tyNb"),a=r("mrSG"),n=r("3Pt+"),c=r("fXoL"),l=r("N/25"),s=r("Wp6s"),b=r("bTqV"),m=r("kmnG"),d=r("qFsG"),u=r("NFeN");function h(t,o){1&t&&(c.Sb(0,"div",21),c.Sb(1,"h1"),c.Ac(2,"Loading..."),c.Rb(),c.Rb())}function p(t,o){1&t&&(c.Sb(0,"mat-error"),c.Ac(1," Please enter a valid email address "),c.Rb())}function g(t,o){1&t&&(c.Sb(0,"mat-error"),c.Ac(1," Email is "),c.Sb(2,"strong"),c.Ac(3,"required"),c.Rb(),c.Rb())}function f(t,o){1&t&&(c.Sb(0,"mat-error"),c.Ac(1," Password is "),c.Sb(2,"strong"),c.Ac(3,"required"),c.Rb(),c.Rb())}function S(t,o){1&t&&(c.Sb(0,"div",22),c.Sb(1,"mat-error"),c.Ac(2," Login error, Verify your credentials... "),c.Rb(),c.Rb())}let v=(()=>{class t{constructor(t,o){this.router=t,this.authSVC=o,this.isLoad=!0,this.authError=!1,this.hide=!0,this.email="",this.password="",this.emailFormControl=new n.b("",[n.k.required,n.k.email]),this.passwordFormControl=new n.b("",[n.k.required])}ngOnInit(){setTimeout(()=>{this.isLoad=!1},300)}login(){this.isLoad=!0,this.email=this.emailFormControl.value,this.password=this.passwordFormControl.value,this.authSVC.login(this.email,this.password).subscribe(t=>Object(a.a)(this,void 0,void 0,function*(){console.log("AUTH=>",t),t.ok?(this.authError=!1,this.saveLocalStorage(`${t.token}`),yield this.router.navigateByUrl("/dashboard"),this.isLoad=!1):(this.authError=!0,this.isLoad=!1)}))}toUsers(){return Object(a.a)(this,void 0,void 0,function*(){yield this.router.navigateByUrl("/users")})}toCars(){return Object(a.a)(this,void 0,void 0,function*(){yield this.router.navigateByUrl("/cars")})}saveLocalStorage(t){console.log(t),localStorage.setItem("jaque-token",t)}}return t.\u0275fac=function(o){return new(o||t)(c.Nb(i.a),c.Nb(l.a))},t.\u0275cmp=c.Hb({type:t,selectors:[["app-login"]],decls:39,vars:11,consts:[["class","loader",4,"ngIf"],[1,"container_","center","card-login"],[1,"example-card"],[1,"example-spacer"],["mat-icon-button","","aria-label","Example icon-button with code icon",1,"example-icon","favorite-icon",3,"click"],["size","large","name","people"],["size","large","name","car-sport"],[1,"row"],[1,"col","s12","m6","center-align","m-top"],["mat-card-image","","src","https://jaque.me/assets/images/q_jaque.svg","alt","Photo of a Shiba Inu",1,"login-img"],[1,"col","s12","m6","center-align"],[1,"example-form"],["appearance","fill",1,"example-full-width","m-bottom"],["type","email","matInput","","placeholder","Ex. pat@example.com",3,"formControl"],["matSuffix","","size","large","name","mail-outline"],[4,"ngIf"],["appearance","fill",1,"example-full-width","m-top"],["matInput","","placeholder","********",3,"type","formControl"],["mat-icon-button","","matSuffix","",3,"click"],["mat-raised-button","","color","primary",1,"login-btn",3,"click"],["class","col s12 center-align",4,"ngIf"],[1,"loader"],[1,"col","s12","center-align"]],template:function(t,o){1&t&&(c.yc(0,h,3,0,"div",0),c.Sb(1,"div",1),c.Sb(2,"mat-card",2),c.Sb(3,"mat-card-header"),c.Sb(4,"mat-card-title"),c.Ac(5,"Welcome"),c.Rb(),c.Sb(6,"mat-card-subtitle"),c.Ac(7,"Please login"),c.Rb(),c.Ob(8,"span",3),c.Sb(9,"button",4),c.Zb("click",function(){return o.toUsers()}),c.Ob(10,"ion-icon",5),c.Rb(),c.Sb(11,"button",4),c.Zb("click",function(){return o.toCars()}),c.Ob(12,"ion-icon",6),c.Rb(),c.Rb(),c.Sb(13,"mat-card-content"),c.Sb(14,"div",7),c.Sb(15,"div",8),c.Ob(16,"img",9),c.Rb(),c.Sb(17,"div",10),c.Sb(18,"form",11),c.Sb(19,"mat-form-field",12),c.Sb(20,"mat-label"),c.Ac(21,"Email"),c.Rb(),c.Ob(22,"input",13),c.Ob(23,"ion-icon",14),c.yc(24,p,2,0,"mat-error",15),c.yc(25,g,4,0,"mat-error",15),c.Rb(),c.Sb(26,"mat-form-field",16),c.Sb(27,"mat-label"),c.Ac(28,"Enter your password"),c.Rb(),c.Ob(29,"input",17),c.Sb(30,"button",18),c.Zb("click",function(){return o.hide=!o.hide}),c.Sb(31,"mat-icon"),c.Ac(32),c.Rb(),c.Rb(),c.yc(33,f,4,0,"mat-error",15),c.Rb(),c.Sb(34,"button",19),c.Zb("click",function(){return o.login()}),c.Ac(35," Login "),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Sb(36,"div",7),c.yc(37,S,3,0,"div",20),c.Rb(),c.Rb(),c.Ob(38,"mat-card-actions"),c.Rb(),c.Rb()),2&t&&(c.jc("ngIf",o.isLoad),c.Bb(22),c.jc("formControl",o.emailFormControl),c.Bb(2),c.jc("ngIf",o.emailFormControl.hasError("email")&&!o.emailFormControl.hasError("required")),c.Bb(1),c.jc("ngIf",o.emailFormControl.hasError("required")),c.Bb(4),c.jc("type",o.hide?"password":"text")("formControl",o.passwordFormControl),c.Bb(1),c.Cb("aria-label","Hide password")("aria-pressed",o.hide),c.Bb(2),c.Bc(o.hide?"visibility_off":"visibility"),c.Bb(1),c.jc("ngIf",o.passwordFormControl.hasError("required")),c.Bb(4),c.jc("ngIf",o.authError))},directives:[e.l,s.a,s.e,s.i,s.h,b.a,s.d,s.f,n.l,n.h,n.i,m.c,m.f,d.a,n.a,n.g,n.c,m.g,u.a,s.b,m.b],styles:[".example-card[_ngcontent-%COMP%]{max-width:75%;min-width:50%}.example-header-image[_ngcontent-%COMP%]{background-image:url(https://material.angular.io/assets/img/examples/shiba1.jpg);background-size:cover}.card-login[_ngcontent-%COMP%]{width:100%;height:100vh}.login-img[_ngcontent-%COMP%]{border-radius:.5rem!important;max-width:50%;object-fit:cover;background-color:var(--jaque-primary)}.example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}.login-btn[_ngcontent-%COMP%]{width:100%;background-color:var(--jaque-primary);margin-top:1rem}"]}),t})();const w=[{path:"",component:v,children:[{path:"login",component:v},{path:"**",component:v}]}];let y=(()=>{class t{}return t.\u0275mod=c.Lb({type:t}),t.\u0275inj=c.Kb({factory:function(o){return new(o||t)},imports:[[e.c,i.b.forChild(w)],i.b]}),t})();var R=r("otUU");let C=(()=>{class t{}return t.\u0275mod=c.Lb({type:t}),t.\u0275inj=c.Kb({factory:function(o){return new(o||t)},imports:[[e.c,y,R.a,n.e,n.j]]}),t})()}}]);